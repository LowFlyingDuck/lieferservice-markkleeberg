<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/main.css">
  <title>Datenbank | Lieferservice-Markkleeberg.de</title>
</head>
<body>
  <main>
    <section>
      <h1>Datenbank</h1>
    </section>
  </main>
  <section>
    <h2>Willkommen in unserer Datenbank</h2>
  </section>
  <section>
    <p>Dies ist die Datenbank aller Produkte, die unsere M채rkte anbieten. Bitte beachten Sie, dass neue Produkte eventuell etwas Zeit brauchen um in die Datenbank aufgenommen zu werden. Diese Datenbank zeigt alle Produkte, die von unseren M채rkten abgeboten werden, weshalb manchen eventuell nicht verf체gbar sind, aber in der Datenbank aufgef체hrt sind.</p>
  </section>
  <section class="database">
    <div class="settings">
      <form action="javascript: updateDatabase()">
        <label for="page">Seite: </label>
        <input type="number" id="page" min="1">
        <label for="search">Suchen: </label>
        <input type="text" id="search">
        <input type="submit" value="aktualisieren">
      </form>
    </div>
    <div class="items">

    </div>
  </section>
  <script>
    async function updateDatabase() {
      var page = document.querySelector('#page').value;
      var start = (page-1)*21;
      var end = start + 21;
      var raw = await fetch(window.location.origin + `/retrieveProducts?start=${start}&end=${end}`);
      var insertion = await raw.text();
      document.querySelector('.items').innerHTML = insertion;
      document.querySelector('.items').innerHTML += '<div class="next-page"></div>'
    }
  </script>
</body>
</html>